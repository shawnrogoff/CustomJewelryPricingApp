<!doctype html>
<html lang="en" class="h-100">

<head>
    <title>Custom Jewelry Pricing: A Coding Project By Shawn Rogoff</title>
    <link rel="shortcut icon" type="image/jpg" href="/img/ShawnRogoffFavicon2.ico"/>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Favicons-->
    <link rel="apple-touch-icon" sizes="180x180" href="/img/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/img/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/img/favicons/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link href="/css/site.css" rel="stylesheet">
    <!-- Prism Stylesheet -->
    <link href="/css/prism.css" rel="stylesheet">
    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/5db21ba9c6.js" crossorigin="anonymous"></script>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,400;1,500&display=swap" rel="stylesheet">
</head>

<body class="d-flex flex-column h-100">
    <!-- Nav Section -->
    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand logoFont"><img src="/img/ShawnRogoffMark2Light.png" class="d-inline-block align-text-top" width="30" height="24"> Custom Jewelry Pricing</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
                aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <ul class="navbar-nav me-auto mb-2 mb-md-0">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="app.html">The App</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="code.html">The Code</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" target="_blank" href="https://github.com/shawnrogoff/CustomJewelryPricingApp">Git Repo</a>
                        <!-- put github link in the above href -->
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" target="_blank" href="https://shawnrogoffportfolio.netlify.app/">About</a>
                        <!-- put portfolio link in the above href -->
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    
    <!-- Main Section -->
    <main class="flex-shrink-0">
        <div class="container px-5 py-5 mt-5">
            <h2 class="border-1 border-bottom border-dark">The Code for Custom Jewelry Pricing.</h2>
            <div class="row row-cols-1 row-cols-lg-2">
                <!-- Code Side -->
                <div class="col-lg-8">
                    <pre class="line-numbers"><code class="language-javascript">
                        <!-- Put valid javascript here -->
// toggle config options
function toggleConfig(){
    if (document.getElementById("configMenu").classList.contains("invisible")){
        document.getElementById("configMenu").classList.remove("invisible");
    } else {
        document.getElementById("configMenu").classList.add("invisible");
    }
}
// reset config settings to default
function resetSettingsConfig(){
    document.getElementById("meleeProngSettingFee").value = "";
    document.getElementById("meleeChannelBezelSettingFee").value = "";
    document.getElementById("meleeFlatSettingFee").value = "";
    document.getElementById("rhodiumPlatingFee").value = "";
    document.getElementById("ringScanFee").value = "";
    document.getElementById("stoneScanFee").value = "";
}
// use config settings
function useSettingsConfig(){
    toggleConfig();
}
// toggle melee pricing options
function toggleMeleePricing(){
    if (document.getElementById("meleeDiamondPricingGuide").classList.contains("invisible")){
        document.getElementById("meleeDiamondPricingGuide").classList.remove("invisible");
    } else {
        document.getElementById("meleeDiamondPricingGuide").classList.add("invisible");
    }
}
// toggle melee pricing options
function toggleCustomerGold(){
    alert("You clicked to show customer gold pricing!");
}
// reset the form
function resetForm(){
    // hide results section
    document.getElementById("alert").classList.add("invisible");
    // set all inputs to empty strings ready for the next quote
    document.getElementById("metalSpotPrice").value = "";
    document.getElementById("metalWeight").value = "";
    document.getElementById("numberOfPieces").value = "";
    document.getElementById("numberMeleeStones").value = "";
    document.getElementById("centerStoneWeight").value = "";
    document.getElementById("numberLargeAccents").value = "";
    document.getElementById("assemblyFees").value = "";
    document.getElementById("accentsWeightEach").value = "";
    document.getElementById("partsCost").value = "";
    document.getElementById("meleePrice").value = "";
    document.getElementById("accentsPrice").value = "";
    document.getElementById("centerPrice").value = "";
}
function resetMeleePricingForm(){
    document.getElementById("meleePriceGuideNumMeleeStones1").value = "";
    document.getElementById("meleePriceGuideNumMeleeStones2").value = "";
    document.getElementById("meleeDiameterSelection1").value = "0";
    document.getElementById("meleeDiameterSelection2").value = "0";
    document.getElementById("meleeQualitySelection1").value = "I1-SI2 Clarity G Color";
    document.getElementById("meleeQualitySelection2").value = "I1-SI2 Clarity G Color";
}
// use melee pricing guide to calculate melee price
// not done
function calculateMeleePrice(){
    // get numbers of stones
    // If user doesn't enter a value, then use the placeholder value
    let meleePriceGuideNumMeleeStones1 = parseFloat(0);
    if(document.getElementById("meleePriceGuideNumMeleeStones1").value == ""){
        meleePriceGuideNumMeleeStones1 = parseFloat(document.getElementById("meleePriceGuideNumMeleeStones1").placeholder);
    } else{
        meleePriceGuideNumMeleeStones1 = parseFloat(document.getElementById("meleePriceGuideNumMeleeStones1").value);
    }
    // If user doesn't enter a value, then use the placeholder value
    let meleePriceGuideNumMeleeStones2 = parseFloat(0);
    if(document.getElementById("meleePriceGuideNumMeleeStones2").value == ""){
        meleePriceGuideNumMeleeStones2 = parseFloat(document.getElementById("meleePriceGuideNumMeleeStones2").placeholder);
    } else{
        meleePriceGuideNumMeleeStones2 = parseFloat(document.getElementById("meleePriceGuideNumMeleeStones2").value);
    }
    // calculate total number of melee stones, and stick this number into a hidden html element for later
    let totalNumberMeleeStonesFromPricingGuide = parseFloat(meleePriceGuideNumMeleeStones1 + meleePriceGuideNumMeleeStones2);
    document.getElementById("totalNumberMeleeStonesFromPricingGuide").innerHTML = totalNumberMeleeStonesFromPricingGuide;
    
    // get stone diameters
    let stonesDiameter1 = parseFloat(document.getElementById("meleeDiameterSelection1").value);
    let stonesDiameter2 = parseFloat(document.getElementById("meleeDiameterSelection2").value);
    
    // set carat weight each based on selected diameter
    let caratWeightEach1 = parseFloat(0);
    let caratWeightEach2 = parseFloat(0);

    switch (stonesDiameter1) {
        case 0.9:
            caratWeightEach1 = parseFloat(0.004);
            break;
        case 1.0:
            caratWeightEach1 = parseFloat(0.005);
            break;
        case 1.1:
            caratWeightEach1 = parseFloat(0.0065);
            break;
        case 1.2:
            caratWeightEach1 = parseFloat(0.0075);
            break;
        case 1.3:
            caratWeightEach1 = parseFloat(0.01);
            break;
        case 1.4:
            caratWeightEach1 = parseFloat(0.0125);
            break;
        case 1.5:
            caratWeightEach1 = parseFloat(0.015);
            break;
        case 1.75:
            caratWeightEach1 = parseFloat(0.02);
            break;
        case 1.8:
            caratWeightEach1 = parseFloat(0.025);
            break;
        case 2.0:
            caratWeightEach1 = parseFloat(0.03);
            break;
        case 2.2:
            caratWeightEach1 = parseFloat(0.04);
            break;
        case 2.4:
            caratWeightEach1 = parseFloat(0.05);
            break;
        case 2.5:
            caratWeightEach1 = parseFloat(0.06);
            break;
        case 2.7:
            caratWeightEach1 = parseFloat(0.07);
            break;
        case 2.8:
            caratWeightEach1 = parseFloat(0.08);
            break;
        case 3.0:
            caratWeightEach1 = parseFloat(0.10);
            break;
        case 3.2:
            caratWeightEach1 = parseFloat(0.12);
            break;
        default:
            break;
    }
    switch (stonesDiameter2) {
        case 0.9:
            caratWeightEach2 = parseFloat(0.004);
            break;
        case 1.0:
            caratWeightEach2 = parseFloat(0.005);
            break;
        case 1.1:
            caratWeightEach2 = parseFloat(0.0065);
            break;
        case 1.2:
            caratWeightEach2 = parseFloat(0.0075);
            break;
        case 1.3:
            caratWeightEach2 = parseFloat(0.01);
            break;
        case 1.4:
            caratWeightEach2 = parseFloat(0.0125);
            break;
        case 1.5:
            caratWeightEach2 = parseFloat(0.015);
            break;
        case 1.75:
            caratWeightEach2 = parseFloat(0.02);
            break;
        case 1.8:
            caratWeightEach2 = parseFloat(0.025);
            break;
        case 2.0:
            caratWeightEach2 = parseFloat(0.03);
            break;
        case 2.2:
            caratWeightEach2 = parseFloat(0.04);
            break;
        case 2.4:
            caratWeightEach2 = parseFloat(0.05);
            break;
        case 2.5:
            caratWeightEach2 = parseFloat(0.06);
            break;
        case 2.7:
            caratWeightEach2 = parseFloat(0.07);
            break;
        case 2.8:
            caratWeightEach2 = parseFloat(0.08);
            break;
        case 3.0:
            caratWeightEach2 = parseFloat(0.10);
            break;
        case 3.2:
            caratWeightEach2 = parseFloat(0.12);
            break;
        default:
            break;
    }
    // calculate total carat weight for options
    let meleeOptionOneTotalCaratWeight = parseFloat(meleePriceGuideNumMeleeStones1 * caratWeightEach1);
    let meleeOptionTwoTotalCaratWeight = parseFloat(meleePriceGuideNumMeleeStones2 * caratWeightEach2);
    // limit weight to two decimals
    meleeOptionOneTotalCaratWeight = parseFloat(meleeOptionOneTotalCaratWeight.toFixed(2));
    meleeOptionTwoTotalCaratWeight = parseFloat(meleeOptionTwoTotalCaratWeight.toFixed(2));

    let meleeTotalCaratWeight = parseFloat(meleeOptionOneTotalCaratWeight + meleeOptionTwoTotalCaratWeight);
    meleeTotalCaratWeight = parseFloat(meleeTotalCaratWeight.toFixed(2));
    // get stone qualities
    let meleeQualitySelection1 = document.getElementById("meleeQualitySelection1").value;
    let meleeQualitySelection2 = document.getElementById("meleeQualitySelection2").value;
    let pricePerCaratOption1 = 0;
    let pricePerCaratOption2 = 0;

    switch (meleeQualitySelection1) {
        case "I1-SI2 Clarity G Color":
            if (stonesDiameter1 >= 0.9 && stonesDiameter1 <= 1.2){
                pricePerCaratOption1 = parseFloat(1655);
            } else if (stonesDiameter1 >= 1.3 && stonesDiameter1 <= 2.0) {
                pricePerCaratOption1 = parseFloat(1455);
            } else if (stonesDiameter1 >= 2.2 && stonesDiameter1 <= 2.5) {
                pricePerCaratOption1 = parseFloat(1500);
            } else if (stonesDiameter1 >= 2.7 && stonesDiameter1 <= 2.8) {
                pricePerCaratOption1 = parseFloat(1850);
            } else if (stonesDiameter1 >= 3.0 && stonesDiameter1 <= 3.2) {
                pricePerCaratOption1 = parseFloat(1875);
            }
            break;
        case "SI1 Clarity G-H Color":
            if (stonesDiameter1 >= 0.9 && stonesDiameter1 <= 1.2){
                pricePerCaratOption1 = parseFloat(2050);
            } else if (stonesDiameter1 >= 1.3 && stonesDiameter1 <= 2.0) {
                pricePerCaratOption1 = parseFloat(1950);
            } else if (stonesDiameter1 >= 2.2 && stonesDiameter1 <= 2.5) {
                pricePerCaratOption1 = parseFloat(2000);
            } else if (stonesDiameter1 >= 2.7 && stonesDiameter1 <= 2.8) {
                pricePerCaratOption1 = parseFloat(2400);
            } else if (stonesDiameter1 >= 3.0 && stonesDiameter1 <= 3.2) {
                pricePerCaratOption1 = parseFloat(2450);
            }
            break;
        case "VS Clarity F Color":
            if (stonesDiameter1 >= 0.9 && stonesDiameter1 <= 1.2){
                pricePerCaratOption1 = parseFloat(2200);
            } else if (stonesDiameter1 >= 1.3 && stonesDiameter1 <= 2.0) {
                pricePerCaratOption1 = parseFloat(2100);
            } else if (stonesDiameter1 >= 2.2 && stonesDiameter1 <= 2.5) {
                pricePerCaratOption1 = parseFloat(2150);
            } else if (stonesDiameter1 >= 2.7 && stonesDiameter1 <= 2.8) {
                pricePerCaratOption1 = parseFloat(2685);
            } else if (stonesDiameter1 >= 3.0 && stonesDiameter1 <= 3.2) {
                pricePerCaratOption1 = parseFloat(2700);
            }
            break;
        case "Lab Grown (CVD VS/ F)":
            if (stonesDiameter1 >= 0.9 && stonesDiameter1 <= 1.2){
                pricePerCaratOption1 = parseFloat(975);
            } else if (stonesDiameter1 >= 1.3 && stonesDiameter1 <= 2.0) {
                pricePerCaratOption1 = parseFloat(885);
            } else if (stonesDiameter1 >= 2.2 && stonesDiameter1 <= 2.5) {
                pricePerCaratOption1 = parseFloat(150);
            } else if (stonesDiameter1 >= 2.7 && stonesDiameter1 <= 2.8) {
                pricePerCaratOption1 = parseFloat(1050);
            } else if (stonesDiameter1 >= 3.0 && stonesDiameter1 <= 3.2) {
                pricePerCaratOption1 = parseFloat(1275);
            }
            break;
        default:
            break;
    }
    switch (meleeQualitySelection2) {
        case "I1-SI2 Clarity G Color":
            if (stonesDiameter2 >= 0.9 && stonesDiameter2 <= 1.2){
                pricePerCaratOption2 = parseFloat(1650);
            } else if (stonesDiameter2 >= 1.3 && stonesDiameter2 <= 2.0) {
                pricePerCaratOption2 = parseFloat(1455);
            } else if (stonesDiameter2 >= 2.2 && stonesDiameter2 <= 2.5) {
                pricePerCaratOption2 = parseFloat(1500);
            } else if (stonesDiameter2 >= 2.7 && stonesDiameter2 <= 2.8) {
                pricePerCaratOption2 = parseFloat(1850);
            }else if (stonesDiameter2 >= 3.0 && stonesDiameter2 <= 3.2) {
                pricePerCaratOption2 = parseFloat(1875);
            }
            break;
        case "SI1 Clarity G-H Color":
            if (stonesDiameter2 >= 0.9 && stonesDiameter2 <= 1.2){
                pricePerCaratOption2 = parseFloat(2050);
            } else if (stonesDiameter2 >= 1.3 && stonesDiameter2 <= 2.0) {
                pricePerCaratOption2 = parseFloat(1950);
            } else if (stonesDiameter2 >= 2.2 && stonesDiameter2 <= 2.5) {
                pricePerCaratOption2 = parseFloat(2000);
            } else if (stonesDiameter2 >= 2.7 && stonesDiameter2 <= 2.8) {
                pricePerCaratOption2 = parseFloat(2400);
            }else if (stonesDiameter2 >= 3.0 && stonesDiameter2 <= 3.2) {
                pricePerCaratOption2 = parseFloat(2450);
            }
            break;
        case "VS Clarity F Color":
            if (stonesDiameter2 >= 0.9 && stonesDiameter2 <= 1.2){
                pricePerCaratOption2 = parseFloat(2200);
            } else if (stonesDiameter2 >= 1.3 && stonesDiameter2 <= 2.0) {
                pricePerCaratOption2 = parseFloat(2100);
            } else if (stonesDiameter2 >= 2.2 && stonesDiameter2 <= 2.5) {
                pricePerCaratOption2 = parseFloat(2150);
            } else if (stonesDiameter2 >= 2.7 && stonesDiameter2 <= 2.8) {
                pricePerCaratOption2 = parseFloat(2685);
            } else if (stonesDiameter2 >= 3.0 && stonesDiameter2 <= 3.2) {
                pricePerCaratOption2 = parseFloat(2700);
            }
            break;
        case "Lab Grown (CVD VS/ F)":
            if (stonesDiameter2 >= 0.9 && stonesDiameter2 <= 1.2){
                pricePerCaratOption2 = parseFloat(975);
            } else if (stonesDiameter2 >= 1.3 && stonesDiameter2 <= 2.0) {
                pricePerCaratOption2 = parseFloat(885);
            } else if (stonesDiameter2 >= 2.2 && stonesDiameter2 <= 2.5) {
                pricePerCaratOption2 = parseFloat(1050);
            } else if (stonesDiameter2 >= 2.7 && stonesDiameter2 <= 2.8) {
                pricePerCaratOption2 = parseFloat(1050);
            } else if (stonesDiameter2 >= 3.0 && stonesDiameter2 <= 3.2) {
                pricePerCaratOption2 = parseFloat(1275);
            }
            break;
        default:
            break;
    }

    // calculate each stone option's price
    let meleeOptionOneTotalPrice = parseFloat(Math.ceil(meleeOptionOneTotalCaratWeight * pricePerCaratOption1));
    let meleeOptionTwoTotalPrice = parseFloat(Math.ceil(meleeOptionTwoTotalCaratWeight * pricePerCaratOption2));
    // calculate total stone price and weight
    let meleeTotalCalculatedPrice = parseFloat(Math.ceil(meleeOptionOneTotalPrice + meleeOptionTwoTotalPrice));

    // put values inside html
    document.getElementById("stoneOption1TotalWeight").innerHTML = `Weight: ${meleeOptionOneTotalCaratWeight}ctw`;
    document.getElementById("stoneOption1TotalPrice").innerHTML = `Price: ${meleeOptionOneTotalPrice}`;
    document.getElementById("stoneOption2TotalWeight").innerHTML = `Weight: ${meleeOptionTwoTotalCaratWeight}ctw`;
    document.getElementById("stoneOption2TotalPrice").innerHTML = `Price: ${meleeOptionTwoTotalPrice}`;
    
    document.getElementById("totalWeightMeleePricingGuide").innerHTML = meleeTotalCaratWeight;
    document.getElementById("totalPriceMeleePricingGuide").innerHTML = meleeTotalCalculatedPrice;
}

// inject calculated melee price into input for melee stones
function useMeleePrice(){
    let meleePriceString = document.getElementById("totalPriceMeleePricingGuide").textContent;
    let meleeTotalCalculatedPrice = parseFloat(meleePriceString);
    document.getElementById("meleePrice").value = meleeTotalCalculatedPrice;
    
    let numberMeleeStones = parseFloat(document.getElementById("totalNumberMeleeStonesFromPricingGuide").innerHTML);
    document.getElementById("numberMeleeStones").value = numberMeleeStones;
}

// === Actual App Logic Starts Here === //
// get values from form inputs
function getValues(){
    
    let mountCost = parseFloat(calculateMounting());

    let totalStonesCost = parseFloat(calculateStonesCost());

    displayResults(mountCost, totalStonesCost);
}

// calculations
function calculateMounting(){
    // create an object for storing all our prices neatly
    let mountCost = {};
    mountCost.rhodiumPlatingFee  = calculateRhodiumPlatingFee();
    mountCost.metalCost = parseFloat(calculateMetalCost());
    mountCost.settingFee = calculateSettingFee();
    mountCost.printingFee = calculatePrintingFee();
    mountCost.designFee = parseFloat(document.getElementById("designType").value);
    mountCost.customerStonesFee = parseFloat(document.getElementById("customerStonesFee").value);
    mountCost.boxFee = parseFloat(7);

    // If user doesn't enter a value, then use the placeholder value
    let ringScanFee = parseFloat(0);
    if(document.getElementById("ringScanFee").value == ""){
        ringScanFee = parseFloat(document.getElementById("ringScanFee").placeholder);
    } else{
        ringScanFee = parseFloat(document.getElementById("ringScanFee").value);
    }
    // If user doesn't enter a value, then use the placeholder value
    let stoneScanFee = parseFloat(0);
    if(document.getElementById("stoneScanFee").value == ""){
        stoneScanFee = parseFloat(document.getElementById("stoneScanFee").placeholder);
    } else{
        stoneScanFee = parseFloat(document.getElementById("stoneScanFee").value);
    }

    let scanFee = parseFloat(0);
    if (document.getElementById("scanSelection").value == "Scan Ring & Stone"){
        scanFee = ringScanFee + stoneScanFee;
    } else if (document.getElementById("scanSelection").value == "Scan Ring"){
        scanFee = ringScanFee;
    } else if (document.getElementById("scanSelection").value == "Scan Stone"){
        scanFee = stoneScanFee;
    }
    
    
    mountCost.scanFee = parseFloat(scanFee);


    // If user doesn't enter a value, then use the placeholder value
    let assemblyFee = parseFloat(0);
    if(document.getElementById("assemblyFees").value == ""){
        assemblyFee = parseFloat(document.getElementById("assemblyFees").placeholder);
    } else{
        assemblyFee = parseFloat(document.getElementById("assemblyFees").value);
    }
    mountCost.assemblyFee = parseFloat(assemblyFee);

    let partsCost = parseFloat(0);
    if(document.getElementById("partsCost").value == ""){
        partsCost = parseFloat(document.getElementById("partsCost").placeholder);
    } else{
        partsCost = parseFloat(document.getElementById("partsCost").value);
    }
    mountCost.partsCost = parseFloat(partsCost);
    
    totalMountingCost = parseFloat(
        mountCost.rhodiumPlatingFee + 
        mountCost.metalCost + 
        mountCost.settingFee + 
        mountCost.printingFee + 
        mountCost.designFee + 
        mountCost.customerStonesFee + 
        mountCost.scanFee + 
        mountCost.assemblyFee + 
        mountCost.partsCost + 
        mountCost.boxFee
        );

    return totalMountingCost;
}
function calculateMetalCost(){
    // Constants pertaining to metal pricing
    let feeLaborPerPiece = parseFloat(9);
    let feeFinishPerGram = parseFloat(8);
    let retailMarkupOnMetal = parseFloat(2);
    // Get values from the form
    let metalSelection = document.getElementById("metalSelection").value;

    let metalSpotPrice = parseFloat(0);
    if(document.getElementById("metalSpotPrice").value == ""){
        metalSpotPrice = parseFloat(document.getElementById("metalSpotPrice").placeholder);
    } else{
        metalSpotPrice = parseFloat(document.getElementById("metalSpotPrice").value);
    }

    let metalWeight = parseFloat(0);
    if(document.getElementById("metalWeight").value == ""){
        metalWeight = parseFloat(document.getElementById("metalWeight").placeholder);
    } else{
        metalWeight = parseFloat(document.getElementById("metalWeight").value);
    }

    let numberOfPieces = parseFloat(0);
    if(document.getElementById("numberOfPieces").value == ""){
        numberOfPieces = parseFloat(document.getElementById("numberOfPieces").placeholder);
    } else{
        numberOfPieces = parseFloat(document.getElementById("numberOfPieces").value);
    }

    let metalPerGramCost = parseFloat(0);

    // Calculate price per gram based on metalSelection and metalSpotPrice
    // per_gram_cost = math.ceil((spot_price * spot_multiplier_10k)+10)
    // spot_multiplier_10k = 0.0133961
    // spot_multiplier_14k = 0.0187546
    // spot_multiplier_18k = 0.0241131

    if (metalSelection == "10k White Gold" || metalSelection == "10k Yellow Gold" || metalSelection == "10k Rose Gold")
    {
        metalPerGramCost = parseFloat(Math.ceil((metalSpotPrice * 0.0133961) + 10));
    } 
    else if (metalSelection == "14k White Gold" || metalSelection == "14k Yellow Gold" || metalSelection == "14k Rose Gold")
    {
        metalPerGramCost = parseFloat(Math.ceil((metalSpotPrice * 0.0187546) + 10));
    }
    else if (metalSelection == "18k White Gold" || metalSelection == "18k Yellow Gold" || metalSelection == "18k Rose Gold")
    {
        metalPerGramCost = parseFloat(Math.ceil((metalSpotPrice * 0.0241131) + 10));
    }
    else if (metalSelection == "Platinum")
    {
        metalPerGramCost = parseFloat((Math.ceil((metalSpotPrice / 31.1035) + 25)));
    }
    else if (metalSelection == "Sterling Silver")
    {
        metalPerGramCost = parseFloat((Math.ceil((metalSpotPrice + 1.2) / 31.01034768) * 1.5));
    }

    let metalCost = parseFloat((((metalPerGramCost * metalWeight) + (feeLaborPerPiece * numberOfPieces) + (Math.ceil(metalWeight) * feeFinishPerGram)) * retailMarkupOnMetal));

    if (metalSelection == "Platinum")
    {
        metalCost = parseFloat(metalCost + 90);
    }

    return metalCost;
}
function calculateRhodiumPlatingFee(){
    let metalSelection = document.getElementById("metalSelection").value;
    // If user does not enter a value, then use the placeholder value
    let numberOfPieces = parseFloat(0);
    if(document.getElementById("numberOfPieces").value == ""){
        numberOfPieces = parseFloat(document.getElementById("numberOfPieces").placeholder);
    } else{
        numberOfPieces = parseFloat(document.getElementById("numberOfPieces").value);
    }

    // If user doesn't enter a value, then use the placeholder value
    let individualRhodiumPlatingFee = parseFloat(0);
    if(document.getElementById("rhodiumPlatingFee").value == ""){
        individualRhodiumPlatingFee = parseFloat(document.getElementById("rhodiumPlatingFee").placeholder);
    } else{
        individualRhodiumPlatingFee = parseFloat(document.getElementById("rhodiumPlatingFee").value);
    }

    let totalRhodiumPlatingFee = parseFloat(0);
    
    // We want to charge if the metal is white gold
    if (metalSelection == "10k White Gold" || metalSelection == "14k White Gold" || metalSelection == "18k White Gold")
    {
        totalRhodiumPlatingFee =  parseFloat(individualRhodiumPlatingFee*numberOfPieces);
    }
    return totalRhodiumPlatingFee;
}
function calculateSettingFee(){
    // If user does not enter a value, then use the placeholder value
    let meleeProngSettingFee = parseFloat(0);
    if(document.getElementById("meleeProngSettingFee").value == ""){
        meleeProngSettingFee = parseFloat(document.getElementById("meleeProngSettingFee").placeholder);
    } else{
        meleeProngSettingFee = parseFloat(document.getElementById("meleeProngSettingFee").value);
    }
    // If user does not enter a value, then use the placeholder value
    let meleeChannelBezelSettingFee = parseFloat(0);
    if(document.getElementById("meleeChannelBezelSettingFee").value == ""){
        meleeChannelBezelSettingFee = parseFloat(document.getElementById("meleeChannelBezelSettingFee").placeholder);
    } else{
        meleeChannelBezelSettingFee = parseFloat(document.getElementById("meleeChannelBezelSettingFee").value);
    }
    // If user does not enter a value, then use the placeholder value
    let meleeFlatSettingFee = parseFloat(0);
    if(document.getElementById("meleeFlatSettingFee").value == ""){
        meleeFlatSettingFee = parseFloat(document.getElementById("meleeFlatSettingFee").placeholder);
    } else{
        meleeFlatSettingFee = parseFloat(document.getElementById("meleeFlatSettingFee").value);
    }

    // If user does not enter a value, then use the placeholder value
    let numberOfMeleeStones = parseFloat(0);
    if(document.getElementById("numberMeleeStones").value == ""){
        numberOfMeleeStones = parseFloat(document.getElementById("numberMeleeStones").placeholder);
    } else{
        numberOfMeleeStones = parseFloat(document.getElementById("numberMeleeStones").value);
    }

    let meleeSettingChargePerStone = parseFloat(0);
    
    // Determine which value to use for melee stone pricing
    switch (document.getElementById("meleeSettingStyle").value) {
        case "prong":
            meleeSettingChargePerStone = parseFloat(meleeProngSettingFee);
            break;
        case "channel/bezel/bar":
            meleeSettingChargePerStone = parseFloat(meleeChannelBezelSettingFee);
            break;
        case "flat":
            meleeSettingChargePerStone = parseFloat(meleeFlatSettingFee);
            break;
        default:
            break;
    }
    
    let meleeSettingFee = parseFloat(0);
    let accentSettingFee = parseFloat(0);
    let centerSettingFee = parseFloat(0);
    let totalSettingFee = parseFloat(0);

    meleeSettingFee = parseFloat(numberOfMeleeStones * meleeSettingChargePerStone);

    // Calculate setting fees for any larger accent stones
    // If users do not enter a value, then use the placeholder value
    let numberAccentStones = parseFloat(0);
    if(document.getElementById("numberLargeAccents").value == ""){
        numberAccentStones = parseFloat(document.getElementById("numberLargeAccents").placeholder);
    } else{
        numberAccentStones = parseFloat(document.getElementById("numberLargeAccents").value);
    }
    let accentStonesWeightEach = parseFloat(0);
    if(document.getElementById("accentsWeightEach").value == ""){
        accentStonesWeightEach = parseFloat(document.getElementById("accentsWeightEach").placeholder);
    } else{
        accentStonesWeightEach = parseFloat(document.getElementById("accentsWeightEach").value);
    }

    let accentSettingFeeEach = parseFloat(0);

    if (accentStonesWeightEach <= 0.15)
    {
        accentSettingFeeEach = parseFloat(meleeProngSettingFee);
    }
    else if (accentStonesWeightEach > 0.15 && accentStonesWeightEach <= 0.25)
    {
        accentSettingFeeEach = parseFloat(meleeChannelBezelSettingFee);
    }
    else if (accentStonesWeightEach > 0.25 && accentStonesWeightEach <= 0.55)
    {
        accentSettingFeeEach = parseFloat(22);
    }
    else if (accentStonesWeightEach > 0.55 && accentStonesWeightEach <= 0.75)
    {
        accentSettingFeeEach = parseFloat(30);
    }
    else if (accentStonesWeightEach > 0.75 && accentStonesWeightEach <= 1.00)
    {
        accentSettingFeeEach = parseFloat(50);
    }
    else if (accentStonesWeightEach > 1.00 && accentStonesWeightEach <= 1.50)
    {
        accentSettingFeeEach = parseFloat(60);
    }
    else if (accentStonesWeightEach > 1.50 && accentStonesWeightEach <= 2.00)
    {
        accentSettingFeeEach = parseFloat(70);
    }
    else if (accentStonesWeightEach > 2.00 && accentStonesWeightEach <= 3.00)
    {
        accentSettingFeeEach = parseFloat(80);
    }
    else if (accentStonesWeightEach > 3.00 && accentStonesWeightEach <= 4.00)
    {
        accentSettingFeeEach = parseFloat(100);
    }
    else if (accentStonesWeightEach > 4.00 && accentStonesWeightEach <= 5.00)
    {
        accentSettingFeeEach = parseFloat(110);
    }
    else if (accentStonesWeightEach > 5.00)
    {
        accentSettingFeeEach = parseFloat(140);
    }

    accentSettingFee = parseFloat(numberAccentStones * accentSettingFeeEach);

    // Calculate center setting fee
    // If users do not enter a value, then use the placeholder value
    let centerStoneWeight = parseFloat(0);
    if(document.getElementById("centerStoneWeight").value == ""){
        centerStoneWeight = parseFloat(document.getElementById("centerStoneWeight").placeholder);
    } else{
        centerStoneWeight = parseFloat(document.getElementById("centerStoneWeight").value);
    }

    if (centerStoneWeight <= 0.15)
    {
        centerSettingFee = parseFloat(meleeProngSettingFee);
    }
    else if (centerStoneWeight > 0.15 && centerStoneWeight <= 0.25)
    {
        centerSettingFee = parseFloat(meleeChannelBezelSettingFee);
    }
    else if (centerStoneWeight > 0.25 && centerStoneWeight <= 0.55)
    {
        centerSettingFee = parseFloat(22);
    }
    else if (centerStoneWeight > 0.55 && centerStoneWeight <= 0.75)
    {
        centerSettingFee = parseFloat(30);
    }
    else if (centerStoneWeight > 0.75 && centerStoneWeight <= 1.00)
    {
        centerSettingFee = parseFloat(50);
    }
    else if (centerStoneWeight > 1.00 && centerStoneWeight <= 1.50)
    {
        centerSettingFee = parseFloat(60);
    }
    else if (centerStoneWeight > 1.50 && centerStoneWeight <= 2.00)
    {
        centerSettingFee = parseFloat(70);
    }
    else if (centerStoneWeight > 2.00 && centerStoneWeight <= 3.00)
    {
        centerSettingFee = parseFloat(80);
    }
    else if (centerStoneWeight > 3.00 && centerStoneWeight <= 4.00)
    {
        centerSettingFee = parseFloat(100);
    }
    else if (centerStoneWeight > 4.00 && centerStoneWeight <= 5.00)
    {
        centerSettingFee = parseFloat(110);
    }
    else if (centerStoneWeight > 5.00)
    {
        centerSettingFee = parseFloat(140);
    }
    else
    {
        centerSettingFee = parseFloat(0);
    }

    totalSettingFee = parseFloat(meleeSettingFee + accentSettingFee + centerSettingFee);

    return parseFloat(totalSettingFee);
}
function calculatePrintingFee(){
    let printingFee = parseFloat(0);
    // If user does not enter a value, then use the placeholder value
    let numberOfPieces = parseFloat(0);
    if(document.getElementById("numberOfPieces").value == ""){
        numberOfPieces = parseFloat(document.getElementById("numberOfPieces").placeholder);
    } else{
        numberOfPieces = parseFloat(document.getElementById("numberOfPieces").value);
    }

    if (numberOfPieces == 1)
    {
        printingFee = 30;
    }
    else
    {
        printingFee = 30 + ((numberOfPieces - 1) * 15);
    }

    return printingFee;
}
function calculateStonesCost(){

    let meleePrice = parseFloat(0);
    let accentsPrice = parseFloat(0);
    let centerPrice = parseFloat(0);
    
    // If user doesn't enter a value, then use the placeholder value
    if(document.getElementById("meleePrice").value == ""){
        meleePrice = parseFloat(document.getElementById("meleePrice").placeholder);
    } else{
        meleePrice = parseFloat(document.getElementById("meleePrice").value);
    }
    if(document.getElementById("accentsPrice").value == ""){
        accentsPrice = parseFloat(document.getElementById("accentsPrice").placeholder);
    } else{
        accentsPrice = parseFloat(document.getElementById("accentsPrice").value);
    }
    if(document.getElementById("centerPrice").value == ""){
        centerPrice = parseFloat(document.getElementById("centerPrice").placeholder);
    } else{
        centerPrice = parseFloat(document.getElementById("centerPrice").value);
    }

    let totalStonesCost = parseFloat(meleePrice + accentsPrice + centerPrice);

    return totalStonesCost;
}

// display results
function displayResults(mountCost, stonesCost){
    document.getElementById("alert").classList.remove("invisible");
    document.getElementById("mountTotal").innerHTML = mountCost;
    document.getElementById("stonesTotal").innerHTML = stonesCost;
    document.getElementById("quoteTotal").innerHTML = mountCost + stonesCost;
}
                    </code>
                    </pre>
                </div>
                <!-- Description Side -->
                <div class="col-lg-4">
                    <p>&emsp;This project was a little more involved in both the HTML/CSS/Bootstrap and the Javascript. Instead of 
                        breaking down what each line does, etc. I will try to summarize basic concepts and some of the challenges 
                        with dealing with solving this business problem. To appreciate the HTML portion, inspect the page or check out 
                        the source code on GitHub.
                    </p>
                    <h5>Toggles & Reset Functions</h5>
                    <p>&emsp;I have a section of several functions whose purpose is to show/hide HTML elements or to clear and reset 
                        a form/set of inputs back to a blank state to allow the user to start fresh. The toggle style functions work 
                        by adding or removing a class called "invisible," which simply set the display to none for that element. If the 
                        element is already hidden, then show it. Otherwise, hide it. The reset style functions work by setting the values 
                        of elements involved in that form to a blank string.</p>
                    <h5>Config Menu</h5>
                    <p>&emsp;
                        This section allows the user to see what they are charging for certain things, and to change them on the fly 
                        in the event some sort of edge case occurs. If the user needs to charge more for rhodium plating because the 
                        piece they're doing will need to have a masked plating done (rhodium plate yellow gold to look like white gold), 
                        then the employee would need to charge more than a standard rhodium plating due to the extra labor involved. 
                        The user can change these values, use them in the quote, and use the reset button to return them to the default 
                        values.
                    </p>
                    <h5>Melee Pricing Tool</h5>
                    <p>&emsp;This section of the page allows users to calculate small round diamonds (called diamond melee in the industry) 
                        via a few simple options. The point of this tool is to take the math out of the employee's hands to avoid errors. 
                        The code gets user input and selections from the elements using their unique id, and does basic calculations based on 
                        those selections. You see the use of long, multi-optioned switch and if/then/else statements paired with a lot of using 
                        the <i>parseFloat( )</i> function to maintain the variable types. <strong><i>The most challenging part of the entire 
                        project was keeping variable types as a float.</i></strong> Javascript is a dynamic language, meaning it does not have 
                        strong variable types like what is found in a language such as C#. This caused multiple cases of returning a "Not a number" 
                        error when <i>parseFloat( )</i> wasn't involved at nearly every step. Once the price of melee stones has been calculated, the 
                        user has the option to close the section, reset the section, or to use the price (and stone count) in the pricing form below. 
                        The <i>calculateMeleePrice( )</i>function actually stores the number of melee stones inside a hidden html element in order to 
                        inject that value into the main price estimator's input value later. This is accomplished via the <i>useMeleePricing( )</i> function.
                    </p>
                    <h5>Calculate Mounting Cost</h5>
                    <p>&emsp;
                        Our main controlling function runs when the "Get Price" button is clicked. <i>getValues( )</i> basically starts things, and is where 
                        calculated values are returned and passed on. The first major section is calulating the mounting price. We create a mountCost object 
                        to store all of our various calculated values that go into the hypothetical price quote. Each attribute has its own 
                        function, which calculates that part based on user input. Due to the way the HTML is laid out, two of the attributes can 
                        be lifted directly from the HTML code itself.
                    </p>
                    <p>&emsp;
                        There is one set of logic repeated in different sections, and from a user experience perspective I found it to be important. 
                        I repeatedly declare the variable and set it equal to zero, then check to see if the user entered a value into that field. 
                        Since I wrote the HTML to include placeholders, I can use logic saying: "If the user entered something, then use that value. Otherwise, 
                        use the placeholder value I supplied." The small, although important, benefit to the user is not needing to delete a value before 
                        continuing to type in their own value. This can add a lot of unnecessary wasted time to your quoting process.
                    </p>
                    <p>&emsp;
                        The <i>calculateMetalCost( )</i> function uses the metal weight, metal selection, number of pieces being cast, 
                        and the current spot price of the metal you're using. An employee is trained to know to use the gold spot price 
                        for pieces made of gold, platinum spot price for platinum pieces, and silver spot price for sterling silver items. 
                        There is some math involved here having to do with converting the spot price of the metal into the actual piece's metal 
                        composition and weight. 
                    </p>
                    <p>&emsp;
                       Calculating the rhodium plating is simple; charge for white gold pieces only. If there is more than one item 
                       in the job, then charge for each piece accordingly. The calculations for setting is a little more involved, and is 
                       based on the fact that different size stones cost different amounts of time/skill and therefore money to set.
                    </p>
                    <h5>Displaying Results</h5>
                    <p>&emsp;
                        The final step is to take everything that has been calculated, and display it to the screen. This function simply 
                        injects the proper values into the inner HTML of the appropriate section. There is also a reset button to allow the 
                        user to start over from scratch instead of reloading the entire page.
                    </p>
                </div>
            </div>
        </div>
    </main>
    
    <!-- Footer -->
    <footer class="footer mt-auto py-3">
        <div class="container-fluid">
            <div class="row row-cols-1 row-cols-lg-3 gy-2">
                <div class="col order-last order-lg-first text-light">
                    <div><span class="text-muted">&copy; 2021</span> Shawn Rogoff | shawnrogoff@gmail.com</div>
                </div>
                <div class="col d-flex align-items-center justify-content-start justify-content-lg-center">
                    <img src="img/ShawnRogoffLogoLightext.png" alt="Shawn Rogoff Logo" height="24">
                </div>
                <div class="col d-flex align-items-center justify-content-start justify-content-lg-end">
                    <div class="row">
                        <div class="col social"><a href="https://www.linkedin.com/in/shawn-rogoff/" target="_blank"><i class="fab fa-linkedin fa-2x"></i></a></div>
                        <div class="col social"><a href="https://github.com/shawnrogoff" target="_blank"><i class="fab fa-github fa-2x"></i></a></div>
                        <div class="col social"><a href="https://twitter.com/RogoffShawn" target="_blank"><i class="fab fa-twitter fa-2x"></i></a></div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous">
    </script>
    <script src="/js/prism.js"></script>
    <script>
        Prism.plugins.NormalizeWhitespace.setDefaults({
            'remove-trailing': true,
            'remove-indent': true,
            'left-trim': true,
            'right-trim': true
        })
    </script>
</body>
</html>